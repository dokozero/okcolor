<!-- <h2>Shape Creator</h2>
<p>Count: <input id="count" type="number" value="5"></p>
<button id="create">Create</button>
<button id="cancel">Cancel</button> -->

<div>
  <canvas class="colorpicker_square" id="okhsl_sl_canvas" width="257" height="257"></canvas>
</div>

<div>
  <label for="Hue">Hue</label>
  <input id="Hue" type="number" min="0" max="360" value="0" spellcheck="false">

  <label for="Saturation">Saturation</label>
  <input id="Saturation" type="number" min="0" max="100" value="0" spellcheck="false">

  <label for="Lightness">Lightness</label>
  <input id="Lightness" type="number" min="0" max="100" value="0" spellcheck="false">
</div>

<script>
  /*  document.getElementById('create').onclick = () => {
    const textbox = document.getElementById('count');
    const count = parseInt(textbox.value, 10);
    parent.postMessage({ pluginMessage: { type: 'create-shapes', count } }, '*')
  }  */


  let inputs = document.getElementsByTagName('input');
  
  for (i = 0; i != inputs.length; i++) {
    inputs[i].onkeyup = function sendData() {
      let id = this.id;
      let values = {
        hue: document.getElementById('Hue').value,
        saturation: document.getElementById('Saturation').value,
        lightness: document.getElementById('Lightness').value,
      };
      parent.postMessage({ pluginMessage: { type: 'changeFillColor', id, values, } }, '*')
    }
  }

  onmessage = (event) => {
    document.getElementById('Hue').value = event.data.pluginMessage.hue;
    document.getElementById('Saturation').value = event.data.pluginMessage.saturation;
    document.getElementById('Lightness').value = event.data.pluginMessage.lightness;
  }
  

  /* document.getElementById('cancel').onclick = () => {
    parent.postMessage({ pluginMessage: { type: 'cancel' } }, '*')
  }  */
</script>
